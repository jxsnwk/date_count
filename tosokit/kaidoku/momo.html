<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <title>桃太郎</title>

  <link rel="stylesheet" href="../kit/assets/css/font.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <script src="assets/js/data/momotaro.js"></script>
  <script src="assets/js/kana.js"></script>
  <script src="assets/js/inout.js"></script>
  <script src="assets/js/app.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      loadKanaSelectors('checkedOnly');
      // 50音表表示
      document.getElementById('kanaSelectors').style.display = 'inline-block';
    });
  </script>
</head>

<body>
  <div id="toast" style="display: none;"></div>
  <h2>桃太郎
    <span class="help-icon">
      ？
      <span class="tooltip">
        文字の読み仮名が1文字ずつ入力できるようになっています。<br>
        入力内容が合っていた場合、他の同じ文字にも読み仮名が反映されます。<br>
        50音表にも文字の表示が反映されます。<br>
      </span>
    </span>
  </h2>


  <!-- トグルボタン（右上固定） -->
  <div id="panelToggleBtn" style="width:1rem; user-select: none; text-align: center;">☰</div>
  <!-- 50音表 -->
  <div id="floatingPanel">
    <div id="kanaSelectors" class="kana-selector"></div>
  </div>

  <div style="margin-bottom: 20px;">
    <input type="file" id="jsonFileInput" accept="application/json">
    <button onclick="loadFromFile()">読み込み</button>
    <button onclick="exportToJson()">出力</button>
    　　　　
    <button onclick="clearStorage()">クリア</button>
    <br><br>
    <textarea id="jsonFormInput" style="width: 50%;max-width: 300px;height: 40px;" placeholder="ここにJSON貼り付け"></textarea>

    <button onclick="loadFromForm()">取り込み</button>
    <button onclick="copyToJson()">コピー</button>
    <br>
  </div>

  <div id="allPages"></div>

  <script>
    const panel = document.getElementById('floatingPanel');
    const toggleBtn = document.getElementById('panelToggleBtn');
    toggleBtn.addEventListener('click', () => {
      if (panel.style.display === 'none' || panel.style.display === '') {
        panel.style.display = 'block';
        toggleBtn.textContent = '✕';
      } else {
        panel.style.display = 'none';
        toggleBtn.textContent = '☰';
      }
    });
  </script>

</body>

</html>